@using MyCRM.ViewModels;
@model ProjectCreateViewModel
<link href="~/css/select2.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
<section class="content">
    <div class="container-fluid">
        <h3>Создание Проекта</h3>

        <div class="card">
            <div class="card-body">

                <form role="form" class="text-start" method="post" asp-action="Create">
                    <table class="table table-striped">
                        <tr>
                            <th><label class="form-label">Наименование:</label></th>
                            <td><div class="input-group input-group-outline mb-3"><input type="text" class="form-control" name="Name"></div></td>
                        </tr>
                        <tr>
                            <th><label class="form-label">Описание:</label></th>
                            <td><div class="input-group input-group-outline mb-3"><input type="text" class="form-control" name="Description"></div></td>
                        </tr>
                        <tr>
                            <th><label class="form-label">Заказчик:</label></th>
                            <td>
                                <select class="searchDropDown" style="width:300px" name="customerId">
                                    <option></option>
                                    @foreach(var contragent in Model.Contragents)
                                    {
                                        <option value="@contragent.Id">@contragent.Name</option>
                                    }
                                </select>
                                <script>
                                    $(document).ready(function () {
                                        $('.searchDropDown').select2({
                                            placeholder: 'Выберите контрагента'
                                        });
                                    });
                                </script>
                            </td>
                        </tr>
                        <tr>
                            <th><label class="form-label">Ответственный:</label></th>
                            <td>
                                <select class="searchDropDown2" style="width:300px" name="userId">
                                    <option></option>
                                    @foreach (var user in Model.Users)
                                    {
                                        <option value="@user.Id">@user.UserName</option>
                                    }
                                </select>
                                <script>
                                    $(document).ready(function () {
                                        $('.searchDropDown2').select2({
                                            placeholder: 'Выберите ответственного'
                                        });
                                    });
                                </script>
                            </td>
                        </tr>
                    </table>
                    <div style="display: flex;">
                        <div style="width: 10%;">
                            <button type="submit" class="btn bg-gradient-success w-100 toast-btn">Сохранить</button>
                        </div>
                        <div style="width: 10%; margin-left: 20px">
                            <a class="btn bg-gradient-danger w-100 toast-btn" href="##" onClick="history.go(-1); return false;">Назад</a>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>
